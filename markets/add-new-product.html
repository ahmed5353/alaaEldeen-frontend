<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" href="../assets/images/logo.png" />
    <title>Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/nano.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>

    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="overlay" id="overlay"></div>

    <div>
      <div class="row m-0">
        <!--   aside section-->
        <aside id="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar">
          <div class="position-sticky">
            <div class="nav-item border-bottom pb-3 pt-1 text-center mb-2">
              <a class="  " aria-current="page" href="#">
                <img src="../assets/images/logo.svg" />
              </a>
            </div>
            <ul class="nav flex-column p-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="/Dashboard.html">
                  <img src="../assets/images/icon/grid.svg" alt="" />
                  لوحة التحكم
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/sub-officials/sub-officials.html">
                  <img src="../assets/images/icon/users 1.svg" alt="" />

                  المسؤولين الفرعيين
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/users/users.html">
                  <img src="../assets/images/icon/chart-user 1.svg" alt="" />

                  المستخدمين
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/mainSections.html    ">
                  <img
                    src="../assets/images/icon/list-check 1 (1).svg"
                    alt=""
                  />

                  الاقسام الرئيسية
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/subCategories.html">
                  <img src="../assets/images/icon/folder 1.svg" alt="" />

                  الاقسام الفرعية
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/productAttributes.html">
                  <img src="../assets/images/icon/bags-shopping 1.svg" alt="" />

                  سمات المنتجات
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/countries.html">
                  <img src="../assets/images/icon/marker 1.svg" alt="" />

                  البلاد
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/markets/markets.html">
                  <img src="../assets/images/icon/shop 1.svg" alt="" />

                  المتاجر
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/distribution-points/distribution-points.html"
                >
                  <img src="../assets/images/icon/bag-map-pin 1.svg" alt="" />

                  نقاط التوزيع
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/delivery-desks/delivery-desks.html">
                  <img src="../assets/images/icon/truck-box 1.svg" alt="" />

                  مناديب التوصيل
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/storeHouses/storeHouses.html">
                  <img src="../assets/images/icon/shop 1.svg" alt="" />

                  المخازن
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/products/products.html">
                  <img src="../assets/images/icon/bags-shopping 1.svg" alt="" />
                  المنتجات
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <img src="../assets/images/icon/box-open-full 1.svg" alt="" />

                  الطلبات<span
                    class="badge bg-danger rounded-circle rounded-circle"
                    >1</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/returns/returns.html">
                  <img src="../assets/images/icon/restock 1.svg" alt="" />

                  المرتجعات<span class="badge bg-danger rounded-circle">3</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/paper-requests/paper-requests.html">
                  <img
                    src="../assets/images/icon/list-check 1 (1).svg"
                    alt=""
                  />

                  طلبات التعديل على الاوراق<span
                    class="badge bg-danger rounded-circle"
                    >1</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/pending markets/pending-markets.html"
                >
                  <img
                    src="../assets/images/icon/clock-time-tracking 1.svg"
                    alt=""
                  />
                  المتاجر المعلفة
                  <span class="badge bg-danger rounded-circle">1</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <img
                    src="../assets/images/icon/clock-time-tracking 1.svg"
                    alt=""
                  />

                  نقاط التوزيع المعلفة<span
                    class="badge bg-danger rounded-circle"
                    >2</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <img src="../assets/images/icon/truck-box 1.svg" alt="" />

                  مندوبين التوصيل المعلقين<span
                    class="badge bg-danger rounded-circle"
                    >3</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <img
                    src="../assets/images/icon/messages-question 1.svg"
                    alt=""
                  />

                  الاستفسارات على المنتجات
                  <span class="badge bg-danger rounded-circle">2</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <img src="../assets/images/icon/badge-percent 1.svg" alt="" />

                  اكواد الخصم<span class="badge bg-danger rounded-circle"
                    >2</span
                  >
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/system-setting/system-setting.html">
                  <img src="../assets/images/icon/settings 1.svg" alt="" />

                  اعدادات النظام
                </a>
              </li>
            </ul>
          </div>
        </aside>
        <!--  end aside section-->
        <main class="col-md-9 ms-sm-auto col-lg-10 p-0">
          <!--header navbar-->
          <header class="navbar">
            <div class="container justify-content-between">
              <button class="btn btn-logout d-flex d-none d-md-block">
                <i class="fa-solid fa-right-from-bracket p-1"></i> تسجيل خروج
              </button>
              <button class="btn btn-logout d-md-none" id="toggleSidebar">
                <i class="fa-solid fa-bars"></i>
              </button>
              <div class="d-flex">
                <a class="mx-3" href="/notifications/notifications.html">
                  <img src="../assets/images/icon/notific.svg" />
                </a>
                <a class="d-flex" href="/personal-file/personal-file.html">
                  <img
                    src="../assets/images/avatar.png"
                    alt="User Avatar"
                    class="rounded-circle ms-2"
                    width="40"
                    height="40"
                  />
                  <div>
                    <h5 class="navbar-text text-white">
                      Mohmed Ahmed <i class="fa-solid fa-chevron-left icon"></i>
                    </h5>
                    <span> اخر ظهور - <span>22/03/2024 -08:30 PM</span> </span>
                  </div>
                </a>
              </div>
            </div>
          </header>

          <!--            breadcrumb -->
          <div class="border-bottom">
            <nav
              dir="rtl"
              class="breadcrumb-nav container"
              aria-label="breadcrumb"
            >
              <a href="/Dashboard.html">لوحة التحكم </a>
              /
              <a href="/markets/markets.html">المتاجر</a>
              /
              <span class="breadcrumb-item active" aria-current="page">
                اضافة منتج
              </span>
            </nav>
          </div>

          <div class="container">
            <div class="d-flex gap-2 align-items-center">
              <img
                src="../assets/images/icon/back.svg"
                alt="icon"
                style="cursor: pointer"
              />
              <h2 class="title-page mb-0 fw-bold">اضافة منتج جديد</h2>
            </div>

            <div>
              <label class="select-img m-auto text-center" for="upploadImg">
                <div class="d-flex align-items-center gap-3 position-relative">
                  <div>
                    <div class="add-img">
                      <img
                        id="preview-img"
                        src="../assets/images/icon-park-outline_add-four.svg"
                        width="16"
                        height="16"
                      />
                    </div>
                    <input type="file" id="upploadImg" class="d-none" />

                    <div
                      id="preview-container"
                      class="text-center mt-2 d-none position-absolute"
                      style="right: -5rem; top: -1rem"
                    >
                      <span id="remove-img"
                        ><svg
                          width="31"
                          height="31"
                          viewBox="0 0 31 31"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <circle
                            cx="15.4284"
                            cy="15.1905"
                            r="14.2071"
                            fill="#E63050"
                            stroke="white"
                            stroke-width="1.3"
                          />
                          <path
                            d="M10.4766 10.238L20.3813 20.1428M10.4766 20.1428L20.3813 10.238"
                            stroke="white"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                        </svg>
                      </span>
                    </div>
                  </div>
                  <h5 class="active-color text-decoration-underline mt-2">
                    اضافة الصورة الافتراضية
                  </h5>
                </div>
              </label>
            </div>
          </div>

          <div class="p-3 py-4 mt-3" style="background-color: #f6f8fa">
            <form class="p-4 bg-white rounded-3">
              <div class="d-flex gap-4">
                <div class="d-flex flex-column gap-3">
                  <!-- product name -->

                  <div class="input-wrapper p-1" style="width: 40rem">
                    <label> اسم المنتج</label>
                    <input
                      class="w-100 p-2"
                      type="text"
                      placeholder="اكتب هنا"
                    />
                  </div>
                  <div class="d-flex gap-3">
                    <div class="input-wrapper select flex-grow-1">
                      <label>القسم الرئيسي</label>
                      <select class="">
                        <option value="">اختر القسم</option>
                        <option value="1">لوريم</option>
                        <option value="2">لزريم</option>
                        <option value="3">لوريم</option>
                      </select>
                    </div>
                    <div class="input-wrapper select flex-grow-1">
                      <label>القسم الفرعي </label>
                      <select class="">
                        <option value="">اختر القسم</option>
                        <option value="1">لوريم</option>
                        <option value="2">لزريم</option>
                        <option value="3">لوريم</option>
                      </select>
                    </div>
                  </div>
                  <div class="d-flex gap-3 align-items-center">
                    <div
                      class="radio-group-vertical settings-group flex-grow-1"
                    >
                      <label for="option6-1">الفلاش سيل</label>
                      <div class="d-flex gap-3">
                        <div class="d-flex align-items-center gap-1">
                          <input
                            type="radio"
                            id="option6-1"
                            name="customRadio6"
                            class="custom-control-input"
                          />
                          <label for="option6-1">نعم</label>
                        </div>
                        <div class="d-flex align-items-center gap-1">
                          <input
                            type="radio"
                            id="option6-2"
                            name="customRadio6"
                            class="custom-control-input"
                          />
                          <label for="option6-2">لا</label>
                        </div>
                      </div>
                    </div>
                    <div class="input-wrapper select flex-grow-1">
                      <label>اسم التاجر</label>
                      <select class="">
                        <option value="">اختر التاجر</option>
                        <option value="1">لوريم</option>
                        <option value="2">لزريم</option>
                        <option value="3">لوريم</option>
                      </select>
                    </div>
                  </div>

                  <div
                    class="form-check form-check-custom mt-2 d-flex align-items-center justify-content-end gap-1"
                  >
                    <div class="form-check">
                      <label class="form-check-label" style="color: #bfa274"
                        >يوجد خصم على المنتج</label
                      >
                      <label class="custom-checkbox">
                        <input type="checkbox" checked />
                        <span></span>
                      </label>
                    </div>
                  </div>
                </div>
                <!-- Second column -->
                <div class="w-100 d-flex flex-column gap-3">
                  <div class="d-flex gap-3 align-items-center">
                    <div class="position-relative" style="width: 49%">
                      <div class="input-wrapper">
                        <label>سعر المنتج</label>
                        <input
                          class="w-100"
                          type="text"
                          placeholder="اكتب هنا"
                        />
                      </div>
                      <span
                        style="
                          position: absolute;
                          left: 12px;
                          top: 0.5rem;
                          color: #606c7e;
                        "
                        >ريال يمني</span
                      >
                    </div>

                    <!-- ID -->
                    <div class="input-wrapper p-1 flex-grow-1">
                      <label> باركود المنتج</label>
                      <input
                        class="w-100 p-2"
                        type="text"
                        placeholder="اكتب هنا"
                      />
                    </div>
                  </div>
                  <div class="d-flex gap-3">
                    <div class="input-wrapper select" style="width: 49%">
                      <label>القسم الفرعي-2</label>
                      <select class="">
                        <option value="">اختر القسم</option>
                        <option value="1">لوريم</option>
                        <option value="2">لزريم</option>
                        <option value="3">لوريم</option>
                      </select>
                    </div>
                    <div class="input-wrapper p-1 flex-grow-1">
                      <label> الكمية</label>
                      <input
                        class="w-100"
                        type="number"
                        placeholder="اختر الكمية"
                      />
                    </div>
                  </div>
                  <div class="d-flex gap-3">
                    <div
                      class="radio-group-vertical settings-group flex-grow-1"
                    >
                      <div class="d-flex gap-3">
                        <div class="d-flex align-items-center gap-1">
                          <input
                            type="radio"
                            id="option7-1"
                            name="customRadio6"
                            class="custom-control-input"
                          />
                          <label for="option7-1">قابل للتخزين</label>
                        </div>
                        <div class="d-flex align-items-center gap-1">
                          <input
                            type="radio"
                            id="option6-2"
                            name="customRadio6"
                            class="custom-control-input"
                          />
                          <label for="option6-2">غير قابل للتخزين</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="d-flex gap-4">
                <div
                  class="input-custom position-relative flex-grow-1 align-self-end"
                  style="width: 47%"
                >
                  <div class="input-wrapper">
                    <label> نسبة الخصم</label>
                    <input class="w-100" type="text" />
                  </div>
                  <span style="position: absolute; left: 10px; top: 0.75rem"
                    >%</span
                  >
                </div>
                <div class="d-flex flex-column gap-1" style="width: 21%">
                  <span style="color: #606c7e">التاريخ من</span>
                  <div class="daterange-input">
                    <img src="../assets/images/icon/calander.svg" />
                    <input
                      type="text"
                      name="daterange"
                      class="custom-daterangepicker border-0 text-center"
                    />
                    <i class="fa-solid fa-chevron-down active-color"></i>
                  </div>
                </div>
                <div class="d-flex flex-column gap-1 flex-grow-1">
                  <span style="color: #606c7e">التاريخ الى</span>
                  <div class="daterange-input">
                    <img src="../assets/images/icon/calander.svg" />
                    <input
                      type="text"
                      name="daterange"
                      class="custom-daterangepicker border-0 text-center"
                    />
                    <i class="fa-solid fa-chevron-down active-color"></i>
                  </div>
                </div>
              </div>

              <div class="input-wrapper p-1 mt-4">
                <label> وصف المنتج</label>
                <textarea
                  class="w-100 p-2"
                  type="text"
                  placeholder="اكتب هنا"
                  style="height: 8rem"
                ></textarea>
              </div>
            </form>
          </div>
          <div class="px-3 pb-4" style="background-color: #f6f8fa">
            <div class="p-4 bg-white rounded-3">
              <h5 style="font-weight: bold; color: #bfa274">المقاس</h5>
              <form>
                <!-- product name -->
                <div class="sizes_container">
                  <!-- Subcategory Wrapper -->

                  <div
                    class="subcategory-wrapper d-flex gap-4 mt-4 align-items-center"
                  >
                    <div class="input-wrapper p-1" style="width: 40%">
                      <label>نوع الاضافة</label>
                      <input
                        class="w-100 p-2"
                        type="text"
                        placeholder="اكتب هنا"
                      />
                    </div>
                    <div class="position-relative" style="width: 30%">
                      <div class="input-wrapper">
                        <label>السعر</label>
                        <input
                          class="w-100"
                          type="text"
                          placeholder="اكتب هنا"
                        />
                      </div>
                      <span
                        style="
                          position: absolute;
                          left: 12px;
                          top: 0.5rem;
                          color: #606c7e;
                        "
                        >ريال يمني</span
                      >
                    </div>
                    <button
                      type="button"
                      class="btn p-0 action-btn trash-color align-self-center remove-subcategory"
                    >
                      <i class="fa-regular fa-trash-can"></i>
                    </button>
                  </div>

                  <!-- Add More Button -->
                  <button
                    type="button"
                    class="add-new-feature add-new-size text-nowrap mt-4"
                    style="width: 40%"
                  >
                    <img src="/assets/images/icon/add.svg" alt="" />
                    اضافة المزيد
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="px-3 pb-4" style="background-color: #f6f8fa">
            <div class="p-4 bg-white rounded-3">
              <h5 style="font-weight: bold; color: #bfa274">اللون</h5>
              <form>
                <div class="sizes_container">
                  <!-- Subcategory Wrapper -->
                  <div
                    class="subcategory-wrapper d-flex gap-4 mt-4 align-items-center"
                  >
                    <div class="input-wrapper pt-2" style="width: 40%">
                      <label>اللون</label>
                      <input
                        class="w-100 color-value"
                        type="text"
                        placeholder="اختر اللون"
                        disabled
                      />
                      <div
                        style="position: absolute; top: 0.88rem; left: 0.75rem"
                      >
                        <div class="d-flex gap-4 align-items-center">
                          <button
                            class="form-control color-picker-btn"
                          ></button>
                          <div
                            class="form-switch ms-2 d-flex justify-content-center"
                          >
                            <input
                              class="form-check-input"
                              type="checkbox"
                              role="switch"
                              id="flexSwitchCheckChecked"
                              style="height: 1.1rem"
                              checked
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Image Upload Section -->
                    <div class="upload-image-container">
                      <label
                        class="add-new-feature new-product-img upload-image-label"
                      >
                        <div class="d-flex gap-2" style="cursor: pointer">
                          <span>
                            <img
                              src="/assets/images/icon/add-img-sm.svg"
                              alt="add image"
                          /></span>
                          <span>اضافة صورة المنتج</span>
                        </div>
                        <input
                          type="file"
                          class="form-control upload-image-input d-none"
                          accept="image/*"
                        />
                      </label>
                      <div class="image-name"></div>
                    </div>
                    <button
                      type="button"
                      class="btn p-0 action-btn trash-color align-self-center remove-subcategory"
                    >
                      <i class="fa-regular fa-trash-can"></i>
                    </button>
                  </div>
                  <!-- Add More Button -->
                  <button
                    type="button"
                    class="add-new-feature add-new-color text-nowrap mt-4"
                    style="width: 40%"
                  >
                    <img src="/assets/images/icon/add.svg" alt="" />
                    اضافة المزيد
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="px-3" style="background-color: #f6f8fa">
            <div class="p-4 bg-white rounded-3">
              <div class="d-flex gap-3 align-items-center mb-3">
                <h5 style="font-weight: bold; color: #bfa274">الخصائص</h5>
                <div class="form-switch">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    role="switch"
                    id="flexSwitchCheckChecked"
                    style="height: 1.1rem"
                    checked
                  />
                </div>
              </div>
              <form>
                <div class="d-flex gap-3">
                  <div class="radio-group">
                    <label for="option1-1" class="fw-bold">البوليستر</label>
                    <div class="d-flex gap-4">
                      <div>
                        <input
                          type="radio"
                          id="option1-2"
                          name="customRadio1"
                          class="custom-control-input"
                        />
                        <label for="option1-2">نعم</label>
                      </div>
                      <div>
                        <input
                          type="radio"
                          id="option1-1"
                          name="customRadio1"
                          class="custom-control-input"
                        />
                        <label for="option1-1">لا</label>
                      </div>
                    </div>
                  </div>
                  <div class="radio-group">
                    <label for="option2-1" class="fw-bold">سوستة</label>
                    <div class="d-flex gap-4">
                      <div>
                        <input
                          type="radio"
                          id="option2-2"
                          name="customRadio2"
                          class="custom-control-input"
                        />
                        <label for="option2-2">نعم</label>
                      </div>
                      <div>
                        <input
                          type="radio"
                          id="option2-1"
                          name="customRadio2"
                          class="custom-control-input"
                        />
                        <label for="option2-1">لا</label>
                      </div>
                    </div>
                  </div>
                  <div class="radio-group">
                    <label for="option3-1" class="fw-bold">نوع العنصر</label>
                    <div class="d-flex gap-4">
                      <div>
                        <input
                          type="radio"
                          id="option3-2"
                          name="customRadio3"
                          class="custom-control-input"
                        />
                        <label for="option3-2">ملابس خارجية</label>
                      </div>
                      <div>
                        <input
                          type="radio"
                          id="option3-1"
                          name="customRadio3"
                          class="custom-control-input"
                        />
                        <label for="option3-1">ازياء خاصة</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div style="width: 32.75%">
                  <div class="radio-group mt-3">
                    <label for="option4-1" class="fw-bold">الاسلوب</label>
                    <div class="d-flex gap-4">
                      <div>
                        <input
                          type="radio"
                          id="option4-2"
                          name="customRadio4"
                          class="custom-control-input"
                        />
                        <label for="option4-2">سترة صغيرة</label>
                      </div>
                      <div>
                        <input
                          type="radio"
                          id="option4-1"
                          name="customRadio4"
                          class="custom-control-input"
                        />
                        <label for="option4-1">سترة كبيرة</label>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="w-100 mt-4 pb-4">
              <button type="submit" class="btn btn-add w-auto m-auto px-5 mt-2">
                اضافة
              </button>
            </div>
          </div>

          <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
          <script src="../assets/script.js"></script>

          <script>
            $(function () {
              $('input[name="daterange"]').daterangepicker(
                {
                  opens: 'left',
                  locale: {
                    format: 'DD/MM/YYYY',
                    applyLabel: 'Apply',
                    cancelLabel: 'Cancel',
                    fromLabel: 'From',
                    toLabel: 'To',
                    customRangeLabel: 'Custom',
                    daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
                    monthNames: [
                      'January',
                      'February',
                      'March',
                      'April',
                      'May',
                      'June',
                      'July',
                      'August',
                      'September',
                      'October',
                      'November',
                      'December',
                    ],
                    firstDay: 1,
                  },
                  singleDatePicker: true,
                  showDropdowns: true,
                  minYear: 1901,
                  maxYear: parseInt(moment().format('YYYY'), 10),
                  linkedCalendars: false,
                  autoApply: true,
                  alwaysShowCalendars: false,
                  showCustomRangeLabel: false,
                  maxSpan: {
                    days: 60,
                  },
                },
                function (start, end, label) {
                  console.log(
                    'A new date selection was made: ' +
                      start.format('YYYY-MM-DD') +
                      ' to ' +
                      end.format('YYYY-MM-DD')
                  );
                }
              );
            });

            $(document).ready(function () {
              $('.toggle-password').on('click', function () {
                const target = $(this).data('target');
                const input = $(target);
                const type =
                  input.attr('type') === 'password' ? 'text' : 'password';
                input.attr('type', type);
                $(this).toggleClass('fa-eye fa-eye-slash');
              });
            });

            $(document).ready(function () {
              $('#upploadImg').change(function (e) {
                const file = e.target.files[0];
                if (file) {
                  const reader = new FileReader();
                  reader.onload = function (e) {
                    $('#preview-img').attr('src', e.target.result);
                    $('#preview-container').removeClass('d-none');
                    $('#remove-img').show();
                  };
                  reader.readAsDataURL(file);
                }
              });

              $('#remove-img').click(function () {
                $('#preview-img').attr('src', '../assets/images/icon/img.gif');
                $('#preview-container').addClass('d-none');
                $('#remove-img').hide();
                $('#upploadImg').val('');
              });
            });
            $(document).ready(function () {
              $('#toggleSidebar').on('click', function () {
                $('#sidebar').toggleClass('show');
                $('#overlay').toggleClass('show');
              });
              $('#overlay').on('click', function () {
                $('#sidebar').removeClass('show');
                $('#overlay').removeClass('show');
              });
            });
            // uploading photo
            $('#upploadImg').on('change', function () {
              let fileInput = $(this)[0];
              if (fileInput.files.length > 0) {
                let formData = new FormData();
                formData.append('photo', fileInput.files[0]);
                console.log(formData);
              }
            });

            $(document).ready(function () {
              let subcategoryCount = 1;

              // Add new subcategory input fields
              $('.add-new-size').on('click', function () {
                subcategoryCount++;
                const newSubcategory = `
              <div class="subcategory-wrapper d-flex gap-4 mt-4 align-items-center">
                <div class="input-wrapper p-1" style="width: 40%">
                  <label>نوع الاضافة</label>
                  <input class="w-100 p-2" type="text" placeholder="اكتب هنا" />
                </div>
                <div class="position-relative" style="width: 30%">
                  <div class="input-wrapper">
                    <label>السعر</label>
                    <input class="w-100" type="text" placeholder="اكتب هنا" />
                  </div>
                  <span
                    style="
                      position: absolute;
                      left: 12px;
                      top: 0.5rem;
                      color: #606c7e;
                    "
                    >ريال يمني</span>
                </div>
                <button type="button" class="btn p-0 action-btn trash-color align-self-center remove-subcategory">
                  <i class="fa-regular fa-trash-can"></i>
                </button>
              </div>
            `;
                $(newSubcategory).insertBefore('.add-new-size');
              });

              // Remove subcategory input fields
              $(document).on('click', '.remove-subcategory', function () {
                $(this).closest('.subcategory-wrapper').remove();
              });
            });
          </script>
          <script>
            $(document).ready(function () {
              let subcategoryIndex = 0; // Initialize counter for subcategories

              function initPickr(pickerElement, inputElement) {
                // Initialize Pickr
                const pickr = Pickr.create({
                  el: pickerElement,
                  theme: 'nano', // or 'classic', or 'monolith', or 'nano'
                  swatches: [
                    'rgba(244, 67, 54, 1)',
                    'rgba(233, 30, 99, 1)',
                    'rgba(156, 39, 176, 1)',
                    'rgba(103, 58, 183, 1)',
                    'rgba(63, 81, 181, 1)',
                    'rgba(33, 150, 243, 1)',
                    'rgba(3, 169, 244, 1)',
                    'rgba(0, 188, 212, 1)',
                    'rgba(0, 150, 136, 1)',
                    'rgba(76, 175, 80, 1)',
                    'rgba(139, 195, 74, 1)',
                    'rgba(205, 220, 57, 1)',
                    'rgba(255, 235, 59, 1)',
                    'rgba(255, 193, 7, 1)',
                  ],
                  components: {
                    preview: true,
                    opacity: true,
                    hue: true,
                    interaction: {
                      hex: true,
                      rgba: true,
                      input: true,
                      clear: true,
                      save: true,
                    },
                  },
                });

                // Convert hex color to decimal
                function hexToDecimal(hex) {
                  return parseInt(hex.replace('#', ''), 16);
                }

                // Listen to the save event
                pickr.on('save', (color) => {
                  const currentColor = color.toHEXA().toString();
                  const decimalColor = hexToDecimal(currentColor);
                  $(pickerElement).css('background-color', currentColor);
                  $(inputElement).val('0x' + decimalColor);
                  console.log('COLOR SAVED', '0x' + decimalColor);
                });

                // Listen to input changes
                $(inputElement).on('input', function () {
                  const currentColor = $(this).val();
                  if (/^#([0-9A-F]{3}){1,2}$/i.test(currentColor)) {
                    $(pickerElement).css('background-color', currentColor);
                    pickr.setColor(currentColor); // Update Pickr's color
                  }
                });
              }

              // Function to add a new subcategory
              $('.add-new-color').on('click', function () {
                subcategoryIndex++;
                const newSubcategoryHtml = `
            <div class="subcategory-wrapper d-flex gap-4 mt-4 align-items-center">
                <div class="input-wrapper pt-2" style="width: 40%">
                    <label for="color-input-${subcategoryIndex}">اللون</label>
                    <input
                        id="color-input-${subcategoryIndex}"
                        class="w-100 color-value"
                        type="text"
                        placeholder="اختر اللون"
                        disabled
                    />
                    <div style="position: absolute; top: 0.88rem; left: 0.75rem">
                        <div class="d-flex gap-4 align-items-center">
                            <button id="color-picker-btn-${subcategoryIndex}" class="form-control color-picker-btn"></button>
                            <div class="form-switch ms-2 d-flex justify-content-center">
                                <input id="flexSwitchCheckChecked-${subcategoryIndex}" class="form-check-input" type="checkbox" role="switch" style="height: 1.1rem" checked />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="upload-image-container">
                    <label class="add-new-feature new-product-img upload-image-label">
                        <div class="d-flex gap-2" style="cursor: pointer">
                            <span>
                                <img src="/assets/images/icon/add-img-sm.svg" alt="add image"/>
                            </span>
                            <span>اضافة صورة المنتج</span>
                        </div>
                        <input type="file" class="form-control upload-image-input d-none" accept="image/*" />
                    </label>
                    <div class="image-name"></div>
                </div>
                <button type="button" class="btn p-0 action-btn trash-color align-self-center remove-subcategory">
                    <i class="fa-regular fa-trash-can"></i>
                </button>
            </div>
        `;
                $(newSubcategoryHtml).insertBefore('.add-new-color');

                // Initialize Pickr for the new color picker button
                const newPickerElement = $(
                  `#color-picker-btn-${subcategoryIndex}`
                )[0]; // Get the DOM element
                const newInputElement = $(
                  `#color-input-${subcategoryIndex}`
                )[0]; // Get the DOM element
                initPickr(newPickerElement, newInputElement); // Initialize Pickr
              });

              // Remove subcategory input fields
              $(document).on('click', '.remove-subcategory', function () {
                $(this).closest('.subcategory-wrapper').remove();
              });

              // Image upload functionality with event delegation
              $(document).on('change', '.upload-image-input', function (event) {
                var file = event.target.files[0]; // Get the uploaded file
                if (file) {
                  var fileName = file.name; // Get the file name
                  // Display file name
                  $(this).parent().hide(); // Hide the upload button
                  $(this)
                    .closest('.upload-image-container')
                    .find('.image-name')
                    .text('Uploaded Image: ' + fileName);
                }
              });

              // Initialize Pickr for the initial color picker buttons on page load
              $('.color-picker-btn').each(function () {
                const pickerElement = this;
                const inputElement = $(this)
                  .closest('.input-wrapper')
                  .find('.color-value');
                initPickr(pickerElement, inputElement[0]); // Pass the actual DOM element
              });
            });
          </script>
        </main>
      </div>
    </div>
  </body>
</html>
