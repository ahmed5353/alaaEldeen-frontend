<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      type="image/png"
      href="../assets/images/spareX-favicon.png"
    />

    <title>Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="overlay" id="overlay"></div>
    <div>
      <div class="row m-0">
        <!--   aside section-->
        <aside id="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar">
          <div class="position-sticky">
            <div class="nav-item border-bottom pb-3 pt-1 text-center mb-2">
              <a class="  " aria-current="page" href="#">
                <img src="../assets/images/logo.svg" />
              </a>
            </div>
            <ul class="nav flex-column p-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="/Dashboard.html">
                  <img src="../assets/images/icon/grid.svg" alt="" />
                  لوحة التحكم
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/sub-officials/sub-officials.html">
                  <img src="../assets/images/icon/users 1.svg" alt="" />

                  المسؤولين الفرعيين
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/users/users.html">
                  <img src="../assets/images/icon/chart-user 1.svg" alt="" />

                  المستخدمين
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/mainSections.html    ">
                  <img
                    src="../assets/images/icon/list-check 1 (1).svg"
                    alt=""
                  />

                  الاقسام الرئيسية
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/subCategories.html">
                  <img src="../assets/images/icon/folder 1.svg" alt="" />

                  الاقسام الفرعية
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/productAttributes.html">
                  <img src="../assets/images/icon/bags-shopping 1.svg" alt="" />

                  سمات المنتجات
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/countries.html">
                  <img src="../assets/images/icon/marker 1.svg" alt="" />

                  البلاد
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/markets/markets.html">
                  <img src="../assets/images/icon/shop 1.svg" alt="" />

                  المتاجر
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/distribution-points/distribution-points.html"
                >
                  <img src="../assets/images/icon/bag-map-pin 1.svg" alt="" />

                  نقاط التوزيع
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/delivery-desks/delivery-desks.html">
                  <img src="../assets/images/icon/truck-box 1.svg" alt="" />

                  مناديب التوصيل
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/storeHouses/storeHouses.html">
                  <img src="../assets/images/icon/shop 1.svg" alt="" />

                  المخازن
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/products/products.html">
                  <img src="../assets/images/icon/bags-shopping 1.svg" alt="" />
                  المنتجات
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/orders/orders.html">
                  <img src="../assets/images/icon/box-open-full 1.svg" alt="" />

                  الطلبات<span
                    class="badge bg-danger rounded-circle rounded-circle"
                    >1</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/returns/returns.html">
                  <img src="../assets/images/icon/restock 1.svg" alt="" />

                  المرتجعات<span class="badge bg-danger rounded-circle">3</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/paper-requests/paper-requests.html">
                  <img
                    src="../assets/images/icon/list-check 1 (1).svg"
                    alt=""
                  />

                  طلبات التعديل على الاوراق<span
                    class="badge bg-danger rounded-circle"
                    >1</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/pending markets/pending-markets.html"
                >
                  <img
                    src="../assets/images/icon/clock-time-tracking 1.svg"
                    alt=""
                  />
                  المتاجر المعلفة
                  <span class="badge bg-danger rounded-circle">1</span>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/pending-destribution-points/pending-destribution-points.html"
                >
                  <img
                    src="../assets/images/icon/clock-time-tracking 1.svg"
                    alt=""
                  />
                  نقاط التوزيع المعلفة<span
                    class="badge bg-danger rounded-circle"
                    >2</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link active"
                  href="/pending-delegates/pending-delegates.html"
                >
                  <img src="../assets/images/icon/truck-box 1.svg" alt="" />
                  مندوبين التوصيل المعلقين<span
                    class="badge bg-danger rounded-circle"
                    >3</span
                  >
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/products-inquiries/products-inquiries.html"
                >
                  <img
                    src="../assets/images/icon/messages-question 1.svg"
                    alt=""
                  />

                  الاستفسارات على المنتجات
                  <span class="badge bg-danger rounded-circle">2</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/coupons.html">
                  <img src="../assets/images/icon/badge-percent 1.svg" alt="" />

                  اكواد الخصم<span class="badge bg-danger rounded-circle"
                    >2</span
                  >
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/system-setting/system-setting.html">
                  <img src="../assets/images/icon/settings 1.svg" alt="" />

                  اعدادات النظام
                </a>
              </li>
            </ul>
          </div>
        </aside>
        <!--  end aside section-->
        <main class="col-md-9 ms-sm-auto col-lg-10 p-0">
          <!--header navbar-->
          <header class="navbar">
            <div class="container d-flex justify-content-between">
              <button class="btn btn-logout d-flex d-none d-md-block">
                <i class="fa-solid fa-right-from-bracket p-1"></i> تسجيل خروج
              </button>
              <button class="btn btn-logout d-md-none" id="toggleSidebar">
                <i class="fa-solid fa-bars"></i>
              </button>

              <button class="btn btn-logout d-md-none" id="toggleSidebar">
                <i class="fa-solid fa-bars"></i>
              </button>

              <div class="d-flex align-items-center">
                <a
                  class="mx-3 d-flex flex-column gap-1"
                  href="/support/support.html"
                >
                  <img
                    src="../assets/images/icon/support.svg"
                    width="40"
                    height="40"
                  />
                  <span>الدعم الفني</span>
                </a>
                <a
                  class="mx-3 d-flex flex-column gap-1"
                  href="../notifications/notifications.html"
                >
                  <img
                    src="../assets/images/icon/notific.svg"
                    width="40"
                    height="40"
                  />
                  <span>الاشعارات</span>
                </a>
                <a
                  class="d-flex align-items-center me-2"
                  href="personal-file/personal-file.html"
                >
                  <img
                    src="../assets/images/avatar.png"
                    alt="User Avatar"
                    class="rounded-circle ms-2"
                    width="40"
                    height="40"
                  />
                  <div>
                    <h5 class="navbar-text text-white">
                      Mohmed Ahmed <i class="fa-solid fa-chevron-left icon"></i>
                    </h5>
                    <span> اخر ظهور - <span>22/03/2024 -08:30 PM</span> </span>
                  </div>
                </a>
              </div>
            </div>
          </header>

          <!-- accept delegate -->
          <div
            class="offcanvas offcanvas-start"
            data-bs-scroll="true"
            tabindex="-1"
            id="accept-delegate"
            aria-labelledby="offcanvasWithBothOptionsLabel"
            style="overflow-y: auto; max-height: 100vh"
          >
            <form class="d-flex flex-column gap-4 justify-content-center p-4">
              <div class="p-2 border-bottom d-flex justify-content-center">
                <h4 class="fw-bold">الموافقة على مندوب التوصيل</h4>
              </div>

              <div class="position-relative flex-grow-1">
                <div class="input-wrapper p-2">
                  <label>الحد الائتماني</label>
                  <input class="w-100" type="text" />
                </div>
                <span
                  style="
                    position: absolute;
                    left: 1.2rem;
                    top: 1rem;
                    color: #606c7e;
                  "
                  >ريال يمني</span
                >
              </div>
              <div class="position-relative flex-grow-1">
                <div class="input-wrapper p-2">
                  <label>الحد الاقصى للمستحقات</label>
                  <input class="w-100" type="text" />
                </div>
                <span
                  style="
                    position: absolute;
                    left: 1.2rem;
                    top: 1rem;
                    color: #606c7e;
                  "
                  >ريال يمني</span
                >
              </div>
              <hr />

              <h5 class="fw-bold text-center">اضافة نطاق عمل</h5>
              <div class="search-input position-relative">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input
                  type="text"
                  id="city-search"
                  class="form-control"
                  placeholder="ابحث ..."
                />
                <button
                  id="search-btn"
                  class="position-absolute btn border"
                  style="left: 1rem; color: #fff; background-color: #bfa274"
                >
                  بحث
                </button>
              </div>
              <div class="form-group d-flex align-items-center gap-2">
                <label for="radiusRange">نطاق العمل بالكيلو متر</label>
                <input
                  type="range"
                  id="radiusRange"
                  min="1"
                  max="20"
                  value="2"
                  step="1"
                  class="form-control-range"
                />
                <span id="radiusValue">2 KM</span>
              </div>

              <div id="map2"></div>

              <div class="d-flex gap-3">
                <div class="input-wrapper select flex-grow-1">
                  <label>المدينة</label>
                  <select>
                    <option value="">اختر</option>
                    <option value="1">لوريم</option>
                    <option value="2">لزريم</option>
                    <option value="3">لوريم</option>
                  </select>
                </div>
                <div class="input-wrapper select flex-grow-1">
                  <label>المحافظة</label>
                  <select>
                    <option value="">اختر</option>
                    <option value="1">لوريم</option>
                    <option value="2">لزريم</option>
                    <option value="3">لوريم</option>
                  </select>
                </div>
              </div>
              <div class="input-wrapper">
                <label>الشارع</label>
                <input class="w-100" type="text" placeholder="اكتب هنا ..." />
              </div>

              <div class="w-100 text-center mt-3">
                <button
                  type="submit"
                  class="btn btn-add w-auto m-auto px-5 fw-bold"
                >
                  اضافة
                </button>
              </div>
            </form>
          </div>

          <!-- edit password -->
          <div
            class="offcanvas offcanvas-start"
            data-bs-scroll="true"
            tabindex="-1"
            id="edit-password"
            aria-labelledby="offcanvasWithBothOptionsLabel"
          >
            <form class="d-flex flex-column gap-4 justify-content-center p-4">
              <div class="p-2 border-bottom d-flex justify-content-center">
                <h4 class="fw-bold">تعديل كلمة المرور</h4>
              </div>

              <div class="d-flex flex-column gap-3">
                <div class="input-wrapper">
                  <label>كلمة المرور الجديدة</label>
                  <div class="form-group position-relative">
                    <input
                      type="password"
                      id="newUserpassword"
                      class="form-control w-100"
                    />
                    <span
                      class="position-absolute top-50 translate-middle-y me-3"
                      style="left: 12px"
                    >
                      <i
                        class="fas fa-eye toggle-password w-100"
                        data-target="#newUserpassword"
                        style="cursor: pointer"
                      ></i>
                    </span>
                  </div>
                </div>
                <div class="input-wrapper">
                  <label>تأكيد كلمة المرور الجديدة</label>
                  <div class="form-group position-relative">
                    <input
                      type="password"
                      id="confirmNewUserPassword"
                      class="form-control w-100"
                    />
                    <span
                      class="position-absolute top-50 translate-middle-y me-3"
                      style="left: 12px"
                    >
                      <i
                        class="fas fa-eye toggle-password w-100"
                        data-target="#confirmNewUserPassword"
                        style="cursor: pointer"
                      ></i>
                    </span>
                  </div>
                </div>
              </div>

              <div class="w-100 text-center">
                <button
                  type="submit"
                  class="btn btn-add w-auto m-auto mt-2 px-5"
                >
                  تأكيد
                </button>
              </div>
            </form>
          </div>

          <!-- Modal -->
          <div
            class="modal fade"
            id="alertModal"
            tabindex="-1"
            aria-labelledby="alertModalLabel"
            aria-hidden="true"
          >
            <div
              class="modal-dialog modal-dialog-centered"
              style="max-width: 24rem"
            >
              <div
                class="modal-content"
                style="max-height: 22rem; overflow: hidden"
              >
                <div class="modal-header">
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body text-center">
                  <img
                    src="../assets/images/gifs/cancell.gif"
                    width="120"
                    height="120"
                  />
                  <div class="message fw-bold">هل أنت متأكد من الرفض</div>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-add px-5 w-75">
                    تأكيد
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- Accept Modal -->
          <div
            class="modal fade"
            id="acceptModal"
            tabindex="-1"
            aria-labelledby="acceptModalLabel"
            aria-hidden="true"
          >
            <div
              class="modal-dialog modal-dialog-centered"
              style="max-width: 24rem"
            >
              <div
                class="modal-content"
                style="max-height: 22rem; overflow: hidden"
              >
                <div class="modal-header">
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body text-center">
                  <img
                    src="../assets/images/gifs/accept.gif"
                    width="120"
                    height="120"
                    alt=""
                  />
                  <div class="message fw-bold">هل أنت متأكد من الموافقة</div>
                </div>
                <div class="modal-footer">
                  <button
                    id="confirmButton"
                    class="btn btn-add px-5 w-75"
                    type="submit"
                    data-bs-toggle="offcanvas"
                    data-bs-target="#accept-delegate"
                    aria-controls="accept-delegate"
                  >
                    تأكيد
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!--            breadcrumb -->
          <div class="border-bottom">
            <nav
              dir="rtl"
              class="breadcrumb-nav container"
              aria-label="breadcrumb"
            >
              <a href="#">لوحة التحكم </a>
              /
              <span class="breadcrumb-item active" aria-current="page">
                مندوبين التوصيل المعلقين
              </span>
            </nav>
          </div>

          <div class="container">
            <h2 class="title-page mb-0 fw-bold">مندوبين التوصيل المعلقين</h2>

            <div class="d-flex align-items-center gap-2 flex-wrap">
              <div class="search-input">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input
                  type="text"
                  class="form-control"
                  placeholder="ابحث بالاسم او رقم الموبايل او البريد الاكتروني ..."
                />
              </div>
              <span class="daterange-input">
                <img src="../assets/images/icon/calander.svg" />
                <input
                  type="text"
                  name="daterange"
                  class="custom-daterangepicker border-0 text-center"
                />
                <i class="fa-solid fa-chevron-left active-color"></i>
              </span>
            </div>
            <div class="d-flex mt-3 gap-3">
              <!-- DropDowm Lists -->
              <div class="input-wrapper select">
                <label>البلد</label>
                <select class="">
                  <option value="">اختر</option>
                  <option value="1">لوريم</option>
                  <option value="2">لزريم</option>
                  <option value="3">لوريم</option>
                </select>
              </div>
              <div class="input-wrapper select">
                <label>المحافظة</label>
                <select class="">
                  <option value="">اختر</option>
                  <option value="1">لوريم</option>
                  <option value="2">لزريم</option>
                  <option value="3">لوريم</option>
                </select>
              </div>
              <div class="input-wrapper select">
                <label>المدينة</label>
                <select class="">
                  <option value="">اختر</option>
                  <option value="1">لوريم</option>
                  <option value="2">لزريم</option>
                  <option value="3">لوريم</option>
                </select>
              </div>
            </div>
          </div>
          <!--tabel-->
          <div class="container-tabel p-3 py-4">
            <div class="container">
              <div class="table-responsive mb-3">
                <div class="p-3 my-2">
                  <table class="table">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>الصورة</th>
                        <th>اسم المندوب</th>
                        <th>رقم الموبايل</th>
                        <th>البريد الالكتروني</th>
                        <th>البلد</th>
                        <th>المحافظة</th>
                        <th>المدينة</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>1</td>

                        <td>
                          <img
                            src="/assets/images/person-2.png"
                            alt="market-logo"
                            width="50"
                            height="50"
                            class="rounded-circle"
                          />
                        </td>
                        <td>Mostafa Mostafa</td>
                        <td dir="ltr">+201231234213</td>
                        <td>test@test.com</td>
                        <td>اليمن</td>
                        <td>صنعاء</td>
                        <td>ارحب</td>

                        <td>
                          <div class="d-flex gap-2 justify-content-end">
                            <button
                              class="refuse align-self-center"
                              data-bs-toggle="modal"
                              data-bs-target="#alertModal"
                            >
                              X
                            </button>
                            <button
                              class="accept align-self-center"
                              data-bs-toggle="modal"
                              data-bs-target="#acceptModal"
                            >
                              &#10003;
                            </button>
                          </div>
                        </td>

                        <td>
                          <div class="d-flex gap-1 justify-content-end">
                            <button
                              class="btn text-success action-btn"
                              data-bs-toggle="offcanvas"
                              data-bs-target="#edit-password"
                              aria-controls="edit-password"
                            >
                              <i
                                class="fa-solid fa-user-lock"
                                style="color: #9469b2"
                              ></i>
                            </button>

                            <a
                              class="btn text-info action-btn"
                              href="/pending-delegates/pending-delegates-papers.html"
                            >
                              <i class="fa-regular fa-eye"></i>
                            </a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <nav aria-label="Page navigation example   ">
                <ul class="pagination justify-content-center">
                  <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">السابق</a>
                  </li>
                  <li class="page-item">
                    <a class="page-link active" href="#">1</a>
                  </li>
                  <li class="page-item">
                    <a class="page-link" href="#">2</a>
                  </li>
                  <li class="page-item">
                    <a class="page-link" href="#">3</a>
                  </li>
                  <li class="page-item">
                    <a class="page-link" href="#">القادم</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <script>
      $(function () {
        $('input[name="daterange"]').daterangepicker(
          {
            opens: 'left',
            locale: {
              format: ' MMM DD',
              applyLabel: 'Apply',
              cancelLabel: 'Cancel',
              fromLabel: 'From',
              toLabel: 'To',
              customRangeLabel: 'Custom',
              daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
              monthNames: [
                'January',
                'February',
                'March',
                'April',
                'May',
                'June',
                'July',
                'August',
                'September',
                'October',
                'November',
                'December',
              ],
              firstDay: 1,
            },
            singleDatePicker: false,
            showDropdowns: true,
            minYear: 1901,
            maxYear: parseInt(moment().format('YYYY'), 10),
            linkedCalendars: false,
            autoApply: true,
            alwaysShowCalendars: false,
            showCustomRangeLabel: false,
            maxSpan: {
              days: 60,
            },
          },
          function (start, end, label) {
            console.log(
              'A new date selection was made: ' +
                start.format('YYYY-MM-DD') +
                ' to ' +
                end.format('YYYY-MM-DD')
            );
          }
        );
      });
    </script>

    <script>
      $(function () {
        $('input[name="daterangesingle"]').daterangepicker(
          {
            opens: 'left',
            locale: {
              format: 'DD/MM/YYYY',
              applyLabel: 'Apply',
              cancelLabel: 'Cancel',
              fromLabel: 'From',
              toLabel: 'To',
              customRangeLabel: 'Custom',
              daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
              monthNames: [
                'January',
                'February',
                'March',
                'April',
                'May',
                'June',
                'July',
                'August',
                'September',
                'October',
                'November',
                'December',
              ],
              firstDay: 1,
            },
            singleDatePicker: true,
            showDropdowns: true,
            minYear: 1901,
            maxYear: parseInt(moment().format('YYYY'), 10),
            linkedCalendars: false,
            autoApply: true,
            alwaysShowCalendars: false,
            showCustomRangeLabel: false,
            maxSpan: {
              days: 60,
            },
          },
          function (start, end, label) {
            console.log(
              'A new date selection was made: ' +
                start.format('YYYY-MM-DD') +
                ' to ' +
                end.format('YYYY-MM-DD')
            );
          }
        );
      });

      $(document).ready(function () {
        $('.toggle-password').on('click', function () {
          const target = $(this).data('target');
          const input = $(target);
          const type = input.attr('type') === 'password' ? 'text' : 'password';
          input.attr('type', type);
          $(this).toggleClass('fa-eye fa-eye-slash');
        });
      });

      $(document).ready(function () {
        $('#confirmButton').on('click', function () {
          $('#acceptModal').modal('hide');
        });
      });
    </script>

    <script>
      $(document).ready(function () {
        // Initialize the map when the page is fully loaded
        var map2 = L.map('map2').setView([29.8206, 30.8025], 10);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
        }).addTo(map2);

        var marker2 = null;
        var circle = null;

        function getRadiusFromSlider() {
          return $('#radiusRange').val() * 1000; // Convert km to meters
        }
        function searchCity(city) {
          $.getJSON(
            'https://nominatim.openstreetmap.org/search?format=json&q=' + city,
            function (data) {
              if (data && data.length > 0) {
                var lat = data[0].lat;
                var lng = data[0].lon;

                map2.setView([lat, lng], 12);

                if (currentMarker) {
                  map2.removeLayer(currentMarker);
                }

                currentMarker = L.marker([lat, lng]).addTo(map);
                console.log(
                  'City found:',
                  city,
                  'Latitude:',
                  lat,
                  'Longitude:',
                  lng
                );
              } else {
                alert('City not found:', city);
              }
            }
          );
        }

        $('#search-btn').click(function (e) {
          e.preventDefault();
          var city = $('#city-search').val();
          if (city) {
            searchCity(city);
          }
        });

        $('#city-search').keypress(function (e) {
          if (e.which == 13) {
            e.preventDefault();
            $('#search-btn').click();
          }
        });

        // Initialize circle with a default position and radius
        var initialLatLng = [29.8206, 30.8025];
        var defaultRadius = getRadiusFromSlider();
        circle = L.circle(initialLatLng, {
          radius: defaultRadius,
          color: '#4CAF50',
          fillColor: '#4CAF50',
          fillOpacity: 0.2,
        }).addTo(map2);

        map2.on('click', function (e) {
          var lat = e.latlng.lat;
          var lng = e.latlng.lng;

          if (marker2) {
            map2.removeLayer(marker2);
          }
          marker2 = L.marker([lat, lng]).addTo(map2);

          var currentRadius = getRadiusFromSlider();

          if (circle) {
            map2.removeLayer(circle);
          }
          circle = L.circle([lat, lng], {
            radius: currentRadius,
            color: '#4CAF50',
            fillColor: '#4CAF50',
            fillOpacity: 0.2,
          }).addTo(map2);

          console.log('Map 2 - Latitude: ' + lat + ', Longitude: ' + lng);
        });

        $('#radiusRange').on('input', function () {
          var radiusKm = $(this).val();
          $('#radiusValue').text(radiusKm + ' KM');

          var radiusMeters = getRadiusFromSlider();

          if (circle) {
            circle.setRadius(radiusMeters);
          }
        });
      });
    </script>
  </body>
</html>
